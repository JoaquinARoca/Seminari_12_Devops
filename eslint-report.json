[{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\middleware\\corsHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\middleware\\loggingHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\middleware\\messageHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\middleware\\routeNotFound.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\config\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\forum\\forum_controller.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\forum\\forum_models.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\forum\\forum_routes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\forum\\forum_service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\users\\user_controller.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\users\\user_models.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\users\\user_routes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\modules\\users\\user_service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\jrock\\OneDrive\\Escritorio\\EA\\Entrega\\Seminario 12\\Seminari_12_Devops\\src\\server.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'a' is assigned a value but never used.","line":18,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'sinUso' is assigned a value but never used.","line":19,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":13},{"ruleId":"no-restricted-syntax","severity":2,"message":"No se permite console.log fuera de middleware/","line":20,"column":1,"nodeType":"CallExpression","messageId":"restrictedSyntax","endLine":20,"endColumn":66}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport dotenv from 'dotenv';\r\nimport userRoutes from './modules/users/user_routes.js'; // Nota el .js al final\r\nimport forumRoutes from './modules/forum/forum_routes.js'; // Nota el .js al final\r\nimport { corsHandler } from './middleware/corsHandler.js';\r\nimport { loggingHandler } from './middleware/loggingHandler.js';\r\nimport { messageHandler } from './middleware/messageHandler.js';\r\nimport swaggerUi from 'swagger-ui-express';\r\nimport swaggerJSDoc from 'swagger-jsdoc';\r\n\r\ndotenv.config(); // Cargamos las variables de entorno desde el archivo .env\r\n\r\nconst app = express();\r\n\r\nconst LOCAL_PORT = process.env.SERVER_PORT || 9000;\r\n\r\nconst a = 1234;\r\nconst sinUso = 1234; // Esto debería marcarse como error en ESLint y sonar\r\nconsole.log(\"Esto debería marcarse como error en ESLint y sonar\");\r\n// Configuración de Swagger\r\nconst swaggerOptions = {\r\n    definition: {\r\n        openapi: '3.0.0',\r\n        info: {\r\n            title: 'API de Usuarios',\r\n            version: '1.0.0',\r\n            description: 'Documentación de la API de Usuarios'\r\n        },\r\n        tags: [\r\n            {\r\n              name: 'Users',\r\n              description: 'Rutas relacionadas con la gestión de usuarios',\r\n            },\r\n            {\r\n              name: 'Forum',\r\n              description: 'Rutas relacionadas con el forum',\r\n            },\r\n            {\r\n              name: 'Main',\r\n              description: 'Rutas principales de la API',\r\n            }\r\n          ],\r\n        servers: [\r\n            {\r\n                url: `http://localhost:${LOCAL_PORT}`\r\n            }\r\n        ]\r\n    },\r\n    apis: ['./modules/users/*.js', './modules/forum/*.js'] // Asegúrate de que esta ruta apunta a tus rutas\r\n};\r\n\r\nconst swaggerSpec = swaggerJSDoc(swaggerOptions);\r\n\r\napp.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec));\r\n\r\n// Middleware\r\napp.use(express.json());\r\napp.use(loggingHandler);\r\napp.use(corsHandler);\r\n//rutas\r\napp.use('/api', userRoutes);\r\napp.use('/api', forumRoutes);\r\n// Rutes de prova\r\napp.get('/', (req, res) => {\r\n    res.send('Welcome to my API');\r\n});\r\n\r\n// Conexión a MongoDB\r\n//mongoose;\r\nmongoose\r\n    .connect(process.env.MONGODB_URI || 'mongodb+srv://joan:1234@cluster0.3owhs.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0')\r\n    .then(() => messageHandler('Connected to DB','info'))\r\n    .catch((error) => messageHandler('DB Connection Error:'+error, 'error'));\r\n\r\n// Iniciar el servidor\r\napp.listen(LOCAL_PORT, () => {\r\n    messageHandler('Server listening on port: ' + LOCAL_PORT, 'info');\r\n    messageHandler(`Swagger disponible a http://localhost:${LOCAL_PORT}/api-docs`,'info');\r\n});\r\n","usedDeprecatedRules":[]}]